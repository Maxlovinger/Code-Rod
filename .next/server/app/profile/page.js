(()=>{var e={};e.id=178,e.ids=[178],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7310:e=>{"use strict";e.exports=require("url")},6798:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>h,pages:()=>c,routeModule:()=>u,tree:()=>n});var s=t(7096),a=t(6132),i=t(7284),l=t.n(i),o=t(2564),d={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);t.d(r,d);let n=["",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,6408)),"/Users/max_lovinger/Documents/Code-Rod/app/profile/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,5345)),"/Users/max_lovinger/Documents/Code-Rod/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/max_lovinger/Documents/Code-Rod/app/profile/page.tsx"],h="/profile/page",m={require:t,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},4258:(e,r,t)=>{Promise.resolve().then(t.bind(t,1503))},1503:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>ProfilePage});var s=t(784),a=t(9885),i=t(9494),l=t(1264),o=t(2995),d=t(3680),n=t(9490),c=t(6388);t(4189);var h=t(8194),m=t(3354),u=t(9708);let x=["Anthropology","Art and Art History","Astronomy","Biology","Chemistry","Classics","Comparative Literature","Computer Science","East Asian Languages and Cultures","Economics","English","French and Francophone Studies","German and German Studies","Growth and Structure of Cities","History","History of Art","Independent Major","Italian","Linguistics","Mathematics","Music","Philosophy","Physics","Political Science","Psychology","Religion","Romance Languages","Russian","Sociology","Spanish","Theater"],p=["Africana Studies","Anthropology","Art History","Astronomy","Biochemistry and Biophysics","Biology","Chemistry","Chinese","Classics","Comparative Literature","Computer Science","Creative Writing","Dance","Economics","Educational Studies","English","Environmental Studies","Film and Media Studies","French","Gender and Sexuality Studies","German","Health Studies","Hebrew","History","Italian","Japanese","Jewish Studies","Latin American and Iberian Studies","Linguistics","Mathematics","Middle Eastern and Islamic Studies","Music","Neuroscience","Peace, Justice, and Human Rights","Philosophy","Physics","Political Science","Psychology","Religion","Russian","Sociology","Spanish","Statistics","Theater","Visual Studies"],g=[2025,2026,2027,2028,2029,2030,2031,2032,2033,2034,2035];function ProfilePage(){let[e,r]=(0,a.useState)({id:"student-001",name:"",email:"",major:"",minor:"",currentYear:1,currentSemester:"Fall",expectedGraduation:{semester:"Spring",year:new Date().getFullYear()+4},advisor:"",completedCourses:[],totalCreditsCompleted:0}),[t,b]=(0,a.useState)(!1),[w,v]=(0,a.useState)(""),[f,j]=(0,a.useState)("Fall"),[y,N]=(0,a.useState)(new Date().getFullYear()-1),[S,C]=(0,a.useState)(!1),[A,k]=(0,a.useState)(!1),[_,P]=(0,a.useState)(!1),[F,I]=(0,a.useState)([]),[E,M]=(0,a.useState)([]),[z,R]=(0,a.useState)([]),[Y,q]=(0,a.useState)([]),[G,L]=(0,a.useState)(null);(0,a.useEffect)(()=>{let fetchData=async()=>{let e=localStorage.getItem("userEmail");if(e)try{let{data:t,error:s}=await u.O.from("profiles").select("*").eq("email",e).single();if(t&&!s){let e=t.major||[],s=t.minor||[],a=t.advisors||[],i=t.completed_courses||[];M(e),R(s),q(a),r({id:t.id,name:t.full_name||"",email:t.email||"",major:Array.isArray(e)?e.join(", "):"",minor:Array.isArray(s)?s.join(", "):"",currentYear:t.class_year||2025,currentSemester:"Fall",expectedGraduation:{semester:"Spring",year:new Date().getFullYear()+4},advisor:Array.isArray(a)?a.join(", "):"",completedCourses:i,totalCreditsCompleted:0})}let{data:a}=await u.O.from("profiles").select("id, full_name").eq("user_type","advisor");a&&I(a.map(e=>({id:e.id,name:e.full_name})))}catch(e){console.error("Failed to fetch data:",e)}};fetchData()},[]);let handleSave=async()=>{P(!0);let t=localStorage.getItem("userEmail");if(!t){alert("No user email found"),P(!1);return}try{let{error:s}=await u.O.from("profiles").update({major:E,minor:z,class_year:e.currentYear,advisors:Y}).eq("email",t);s?alert("Failed to save profile"):(r(e=>({...e,major:Array.isArray(E)?E.join(", "):"",minor:Array.isArray(z)?z.join(", "):"",advisor:Array.isArray(Y)?Y.join(", "):""})),C(!0),k(!1),setTimeout(()=>C(!1),3e3))}catch(e){alert("Failed to save profile")}finally{P(!1)}};return Array.from({length:8},(e,r)=>new Date().getFullYear()+r),Array.from({length:6},(e,r)=>new Date().getFullYear()-4+r),(0,s.jsxs)("div",{className:"min-h-screen relative overflow-hidden",children:[s.jsx(h.v,{}),s.jsx(m.t,{currentPage:"/profile"}),s.jsx("header",{className:"relative z-10 backdrop-blur-sm bg-black/20 border-b border-white/10",children:s.jsx("div",{className:"max-w-4xl mx-auto px-6 py-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Student Profile"}),s.jsx("p",{className:"text-white/70 mt-1",children:"Set up your academic profile and track completed courses"})]}),s.jsx("div",{className:"flex gap-3",children:A?(0,s.jsxs)(s.Fragment,{children:[s.jsx("button",{onClick:()=>k(!1),className:"bg-white/10 hover:bg-white/20 text-white px-6 py-2 rounded-lg font-medium transition-all duration-300 border border-white/30",children:"Cancel"}),s.jsx("button",{onClick:handleSave,disabled:_,className:"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white px-6 py-2 rounded-lg font-medium transition-all duration-300 flex items-center gap-2 shadow-lg shadow-red-500/25 hover:shadow-xl hover:shadow-red-500/40 hover:scale-105 border border-red-400/30 disabled:opacity-50",children:_?"Saving...":S?(0,s.jsxs)(s.Fragment,{children:[s.jsx(l.Z,{size:20}),"Saved"]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(o.Z,{size:20}),"Save Changes"]})})]}):(0,s.jsxs)("button",{onClick:()=>k(!0),className:"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white px-6 py-2 rounded-lg font-medium transition-all duration-300 flex items-center gap-2 shadow-lg shadow-red-500/25 hover:shadow-xl hover:shadow-red-500/40 hover:scale-105 border border-red-400/30",children:[s.jsx(i.Z,{size:20}),"Edit Profile"]})})]})})}),(0,s.jsxs)("main",{className:"relative z-10 max-w-4xl mx-auto px-6 py-8 space-y-6",children:[(0,s.jsxs)("div",{className:"bg-white/10 backdrop-blur-lg border border-white/20 rounded-lg shadow-lg shadow-red-500/10 p-6",children:[(0,s.jsxs)("h2",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-2",children:[s.jsx(d.Z,{size:24,className:"text-blue-400"}),"Basic Information"]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Full Name"}),s.jsx("div",{className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white/70",children:e.name||"Not set"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Email"}),s.jsx("div",{className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white/70",children:e.email})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Major(s)"}),A?s.jsx("div",{className:"w-full max-h-32 overflow-y-auto bg-white/5 backdrop-blur-md border border-white/20 rounded-lg p-2 shadow-lg shadow-red-500/10 scrollbar-thin scrollbar-track-white/10 scrollbar-thumb-red-500/50 hover:scrollbar-thumb-red-500/70",children:x.map(e=>(0,s.jsxs)("label",{className:"flex items-center p-2 hover:bg-red-500/10 rounded cursor-pointer transition-all duration-200 group",children:[(0,s.jsxs)("div",{className:"relative mr-3",children:[s.jsx("input",{type:"checkbox",checked:E.includes(e),onChange:r=>{r.target.checked?M([...E,e]):M(E.filter(r=>r!==e))},className:"sr-only"}),s.jsx("div",{className:`w-4 h-4 rounded border-2 transition-all duration-200 flex items-center justify-center ${E.includes(e)?"bg-red-500 border-red-500":"bg-white/10 border-white/30 group-hover:border-red-500/50"}`,children:E.includes(e)&&s.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),s.jsx("span",{className:"text-white/90 text-sm group-hover:text-white transition-colors",children:e})]},e))}):s.jsx("div",{className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:Array.isArray(E)&&E.length>0?E.join(", "):"Not set"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Minor(s) (Optional)"}),A?s.jsx("div",{className:"w-full max-h-32 overflow-y-auto bg-white/5 backdrop-blur-md border border-white/20 rounded-lg p-2 shadow-lg shadow-red-500/10 scrollbar-thin scrollbar-track-white/10 scrollbar-thumb-red-500/50 hover:scrollbar-thumb-red-500/70",children:p.map(e=>(0,s.jsxs)("label",{className:"flex items-center p-2 hover:bg-red-500/10 rounded cursor-pointer transition-all duration-200 group",children:[(0,s.jsxs)("div",{className:"relative mr-3",children:[s.jsx("input",{type:"checkbox",checked:z.includes(e),onChange:r=>{r.target.checked?R([...z,e]):R(z.filter(r=>r!==e))},className:"sr-only"}),s.jsx("div",{className:`w-4 h-4 rounded border-2 transition-all duration-200 flex items-center justify-center ${z.includes(e)?"bg-red-500 border-red-500":"bg-white/10 border-white/30 group-hover:border-red-500/50"}`,children:z.includes(e)&&s.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),s.jsx("span",{className:"text-white/90 text-sm group-hover:text-white transition-colors",children:e})]},e))}):s.jsx("div",{className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:Array.isArray(z)&&z.length>0?z.join(", "):"No minor"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Advisor(s)"}),A?s.jsx("div",{className:"w-full max-h-32 overflow-y-auto bg-white/5 backdrop-blur-md border border-white/20 rounded-lg p-2 shadow-lg shadow-red-500/10 scrollbar-thin scrollbar-track-white/10 scrollbar-thumb-red-500/50 hover:scrollbar-thumb-red-500/70",children:F.map(e=>(0,s.jsxs)("label",{className:"flex items-center p-2 hover:bg-red-500/10 rounded cursor-pointer transition-all duration-200 group",children:[(0,s.jsxs)("div",{className:"relative mr-3",children:[s.jsx("input",{type:"checkbox",checked:Y.includes(e.name),onChange:r=>{r.target.checked?q([...Y,e.name]):q(Y.filter(r=>r!==e.name))},className:"sr-only"}),s.jsx("div",{className:`w-4 h-4 rounded border-2 transition-all duration-200 flex items-center justify-center ${Y.includes(e.name)?"bg-red-500 border-red-500":"bg-white/10 border-white/30 group-hover:border-red-500/50"}`,children:Y.includes(e.name)&&s.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),s.jsx("span",{className:"text-white/90 text-sm group-hover:text-white transition-colors",children:e.name})]},e.id))}):s.jsx("div",{className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:Array.isArray(Y)&&Y.length>0?Y.join(", "):"Not set"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Graduation Year"}),A?s.jsx("select",{value:e.currentYear,onChange:t=>r({...e,currentYear:parseInt(t.target.value)}),className:"w-full px-4 py-2 bg-white/5 backdrop-blur-md border border-white/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500/50 focus:border-red-500/50 text-white hover:bg-white/10 transition-all duration-300 shadow-lg shadow-red-500/10",children:g.map(e=>s.jsx("option",{value:e,className:"py-2 px-4 bg-black/90 text-white hover:bg-red-500/20",children:e},e))}):s.jsx("div",{className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:e.currentYear||"Not set"})]})]})]}),(0,s.jsxs)("div",{className:"bg-white/10 backdrop-blur-lg border border-white/20 rounded-lg shadow-lg shadow-red-500/10 p-6",children:[(0,s.jsxs)("h2",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-2",children:[s.jsx(n.Z,{size:24,className:"text-green-400"}),"Contact Your Advisor"]}),Array.isArray(Y)&&Y.length>0?s.jsx("div",{className:"space-y-4",children:Y.map((e,r)=>(F.find(r=>r.name===e),(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4 hover:bg-white/10 transition-colors",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"font-semibold text-white",children:e}),s.jsx("p",{className:"text-white/70 text-sm mt-1",children:"Academic Advisor"})]}),s.jsx("button",{onClick:()=>{let r=`${e.toLowerCase().replace(" ",".")}@haverford.edu`;navigator.clipboard.writeText(r),L(r),setTimeout(()=>L(null),2e3)},className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white px-4 py-2 rounded-lg font-medium transition-all duration-300 flex items-center gap-2 shadow-lg shadow-green-500/25 hover:shadow-xl hover:shadow-green-500/40 hover:scale-105 border border-green-400/30",children:G===`${e.toLowerCase().replace(" ",".")}@haverford.edu`?(0,s.jsxs)(s.Fragment,{children:[s.jsx(l.Z,{size:16}),"Copied!"]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(c.Z,{size:16}),"Copy Email"]})})]}),s.jsx("div",{className:"mt-3 pt-3 border-t border-white/20",children:(0,s.jsxs)("p",{className:"text-white/60 text-sm",children:["Email: ",e.toLowerCase().replace(" ","."),"@haverford.edu"]})})]},r)))}):(0,s.jsxs)("div",{className:"text-center py-12 bg-white/5 border border-white/10 rounded-lg",children:[s.jsx(n.Z,{className:"mx-auto text-white/40",size:48}),s.jsx("p",{className:"text-white/70 mt-4",children:"No advisor assigned"}),s.jsx("p",{className:"text-sm text-white/60 mt-2",children:"Select an advisor in your profile to see their contact information"})]})]})]})]})}},9708:(e,r,t)=>{"use strict";t.d(r,{O:()=>a});var s=t(6315);let a=(0,s.createClient)("https://nxtcvctfuajcvgapcgza.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im54dGN2Y3RmdWFqY3ZnYXBjZ3phIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMxNjE0MTQsImV4cCI6MjA3ODczNzQxNH0.QAsdwatNjr5Trv00B2AMzHbFV_5WpFTyXydcCkKZfq4")},6408:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>l,__esModule:()=>i,default:()=>d});var s=t(5153);let a=(0,s.createProxy)(String.raw`/Users/max_lovinger/Documents/Code-Rod/app/profile/page.tsx`),{__esModule:i,$$typeof:l}=a,o=a.default,d=o}};var r=require("../../webpack-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),t=r.X(0,[472,265,778,315,610,267,194,436,354,189],()=>__webpack_exec__(6798));module.exports=t})();