"use strict";(()=>{var e={};e.id=705,e.ids=[705],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3206:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>c,originalPathname:()=>p,requestAsyncStorage:()=>u,routeModule:()=>n,serverHooks:()=>l,staticGenerationAsyncStorage:()=>d,staticGenerationBailout:()=>m});var s={};t.r(s),t.d(s,{POST:()=>POST});var i=t(884),o=t(6132),a=t(5798);function timeToMinutes(e){let[r,t]=e.split(":").map(Number);return 60*r+t}function timeSlotsOverlap(e,r){if(e.day!==r.day)return!1;let t=timeToMinutes(e.startTime),s=timeToMinutes(e.endTime),i=timeToMinutes(r.startTime),o=timeToMinutes(r.endTime);return t<o&&i<s}function coursesHaveTimeConflict(e,r){for(let t of e.meetingTimes)for(let e of r.meetingTimes)if(timeSlotsOverlap(t,e))return!0;return!1}function detectScheduleConflicts(e,r){let t=[],s=e.map(e=>e.course);for(let e=0;e<s.length;e++)for(let r=e+1;r<s.length;r++)coursesHaveTimeConflict(s[e],s[r])&&t.push({type:"time",courseIds:[s[e].id,s[r].id],message:`Time conflict between ${s[e].code} and ${s[r].code}`,severity:"error"});let i=new Set(r.completedCourses.map(e=>e.courseId)),o=new Set(s.map(e=>e.id));for(let e of s)for(let r of e.prerequisites)i.has(r)||o.has(r)||t.push({type:"prerequisite",courseIds:[e.id],message:`Missing prerequisite for ${e.code}`,severity:"error"});for(let e of s)for(let r of e.corequisites)i.has(r)||o.has(r)||t.push({type:"corequisite",courseIds:[e.id],message:`Missing corequisite for ${e.code}. Must be taken concurrently or previously.`,severity:"error"});let a=s.reduce((e,r)=>e+r.credits,0);return a>18&&t.push({type:"overload",courseIds:s.map(e=>e.id),message:`Credit overload: ${a} credits (maximum recommended: 18)`,severity:"warning"}),t}async function POST(e){try{let r=await e.json(),{courses:t,studentProfile:s}=r;if(!t||!s)return a.Z.json({error:"Missing required fields: courses and studentProfile"},{status:400});let i=detectScheduleConflicts(t,s),o=t.reduce((e,r)=>e+r.course.credits,0),n=0===i.filter(e=>"error"===e.severity).length;return a.Z.json({valid:n,conflicts:i,totalCredits:o,warnings:i.filter(e=>"warning"===e.severity),errors:i.filter(e=>"error"===e.severity)},{status:200})}catch(e){return console.error("Error validating schedule:",e),a.Z.json({error:"Failed to validate schedule"},{status:500})}}let n=new i.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/schedule/validate/route",pathname:"/api/schedule/validate",filename:"route",bundlePath:"app/api/schedule/validate/route"},resolvedPagePath:"/Users/max_lovinger/Documents/Code-Rod/app/api/schedule/validate/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:u,staticGenerationAsyncStorage:d,serverHooks:l,headerHooks:c,staticGenerationBailout:m}=n,p="/api/schedule/validate/route"}};var r=require("../../../../webpack-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),t=r.X(0,[997],()=>__webpack_exec__(3206));module.exports=t})();